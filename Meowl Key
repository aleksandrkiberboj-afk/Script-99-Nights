local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("Meowl Scripter | Premium v5.8", "Midnight")

-- [[ ПРОВЕРКА И ЦЕНТРИРОВАНИЕ ПАНЕЛИ ]]
local mainFrame = nil
task.spawn(function()
    local coreGui = game:GetService("CoreGui")
    for i = 1, 100 do
        if coreGui:FindFirstChild("Meowl Scripter") then
            mainFrame = coreGui["Meowl Scripter"]:FindFirstChild("Main")
            if mainFrame then
                mainFrame.Size = UDim2.new(0, 380, 0, 420)
                mainFrame.Position = UDim2.new(0.5, -190, 0.5, -210)
                break
            end
        end
        task.wait(0.1)
    end
end)

-- [[ БОКОВАЯ КНОПКА "Meowl :3" (ВСЕГДА ТУТ) ]]
local ScreenGui = Instance.new("ScreenGui")
local OpenBtn = Instance.new("TextButton")
local btnCorner = Instance.new("UICorner", OpenBtn)

ScreenGui.Parent = game:GetService("CoreGui")
ScreenGui.Name = "MeowlSideControl"

OpenBtn.Parent = ScreenGui
OpenBtn.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
OpenBtn.Size = UDim2.new(0, 90, 0, 35)
OpenBtn.Position = UDim2.new(0, 5, 0.4, 0) -- Слева сбоку
OpenBtn.Text = "Meowl :3"
OpenBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
OpenBtn.Font = Enum.Font.Code
OpenBtn.TextSize = 15
OpenBtn.BorderSizePixel = 1
OpenBtn.Draggable = true -- Встроенное перетаскивание (самое стабильное)

btnCorner.CornerRadius = math.min(0, 10)

OpenBtn.MouseButton1Click:Connect(function()
    if mainFrame then
        mainFrame.Visible = not mainFrame.Visible
    end
end)

-- [[ ВКЛАДКИ С ПАЛОЧКАМИ-РАЗДЕЛИТЕЛЯМИ ]]
local Auth = Window:NewTab("--- Auth ---")
local Main = Window:NewTab("--- Main ---")
local Combat = Window:NewTab("--- Combat ---")
local Settings = Window:NewTab("--- Config ---")

-- [[ KEY SYSTEM ]]
local AuthSec = Auth:NewSection("||| Authorization |||") -- Вот твои "палочки"
AuthSec:NewTextBox("Key / Ключ", "Enter Key Here", function(text)
    if text == "Meowl" or text == "Meowl20" then
        _G.Authenticated = true
        AuthSec:NewLabel(">>> ACCESS GRANTED <<<")
    end
end)

-- [[ AUTOMATION ]]
local MainSec = Main:NewSection("||| Items & Farm |||")
MainSec:NewToggle("Auto Chop / Авто-рубка", "Farms trees", function(state)
    if not _G.Authenticated then return end
    _G.AutoChop = state
    task.spawn(function()
        while _G.AutoChop do
            pcall(function()
                for _, v in pairs(workspace.GameObjects.Resources.Trees:GetChildren()) do
                    fireclickdetector(v:FindFirstChildOfClass("ClickDetector"))
                end
            end)
            task.wait(0.3)
        end
    end)
end)

-- [[ SURVIVAL ]]
local CombatSec = Combat:NewSection("||| Power & Shapes |||")
CombatSec:NewToggle("God Mode / Бессмертие", "Infinite HP", function(state)
    if not _G.Authenticated then return end
    _G.God = state
    task.spawn(function()
        while _G.God do pcall(function() game.Players.LocalPlayer.Character.Humanoid.Health = 9e9 end) task.wait(0.1) end
    end)
end)

-- [[ SETTINGS ]]
local SetSec = Settings:NewSection("||| Interface Config |||")
SetSec:NewButton("Destroy Script / Удалить", "Full UI Removal", function()
    game:GetService("CoreGui"):FindFirstChild("Meowl Scripter"):Destroy()
    ScreenGui:Destroy()
end)

print("Meowl Scripter v5.8: Stability and Design fix.")

