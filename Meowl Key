local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("Meowl Scripter | Premium v4.0", "Midnight")

-- [[ VARIABLES ]]
local lp = game.Players.LocalPlayer
_G.Authenticated = false
_G.Building = false
_G.AutoChop = false
_G.KillAura = false

-- [[ SECURITY CHECK ]]
local function IsAuth()
    return _G.Authenticated
end

-- [[ TABS ]]
local Auth = Window:NewTab("Auth")
local Main = Window:NewTab("Main")
local Build = Window:NewTab("Builder")
local Combat = Window:NewTab("Combat")
local PlayerTab = Window:NewTab("Player")

-- [[ AUTH SECTION ]]
local AuthSec = Auth:NewSection("Key System")
AuthSec:NewTextBox("Enter Key", "Key: Meowl / Meowl20 / MeowlScripter", function(text)
    if text == "Meowl" or text == "Meowl20" or text == "MeowlScripter" then
        _G.Authenticated = true
        AuthSec:NewLabel("Status: Access Granted")
    else
        _G.Authenticated = false
        AuthSec:NewLabel("Status: Invalid Key")
    end
end)

-- [[ MAIN SECTION ]]
local MainSec = Main:NewSection("Automation")
MainSec:NewToggle("Auto Chop All", "Collect Wood", function(state)
    if not IsAuth() then return end
    _G.AutoChop = state
    while _G.AutoChop do
        pcall(function()
            local trees = workspace.GameObjects.Resources.Trees:GetChildren()
            for _, v in pairs(trees) do 
                fireclickdetector(v:FindFirstChildOfClass("ClickDetector")) 
            end
        end)
        task.wait(0.3)
    end
end)

-- [[ BUILDER SECTION ]]
local BuildSec = Build:NewSection("Tree Shapes")

local function spawnTree(pos)
    if not _G.Building or not _G.Authenticated then return end
    pcall(function()
        local t = Instance.new("Part", workspace)
        t.Name = "AdminTree"; t.Size = Vector3.new(4, 15, 4); t.Position = pos; t.Anchored = true
        t.BrickColor = BrickColor.new("Slime green"); t.Material = Enum.Material.Neon
        Instance.new("ClickDetector", t)
        local v = Instance.new("IntValue", t); v.Name = "Wood"; v.Value = 999
    end)
end

BuildSec:NewButton("Heart Shape", "Spawn heart", function()
    if not IsAuth() then return end
    _G.Building = true
    local center = lp.Character.HumanoidRootPart.Position
    task.spawn(function()
        for i = 0, 360, 10 do
            if not _G.Building then break end
            local t = math.rad(i)
            local x = 16 * math.sin(t)^3
            local z = -(13 * math.cos(t) - 5 * math.cos(2*t) - 2 * math.cos(3*t) - math.cos(4*t))
            spawnTree(center + Vector3.new(x * 2, 0, z * 2))
            task.wait(0.05)
        end
    end)
end)

BuildSec:NewButton("Circle Shape", "Spawn circle", function()
    if not IsAuth() then return end
    _G.Building = true
    local center = lp.Character.HumanoidRootPart.Position
    task.spawn(function()
        for i = 1, 360, 20 do
            if not _G.Building then break end
            spawnTree(center + Vector3.new(math.cos(math.rad(i))*30, 0, math.sin(math.rad(i))*30))
            task.wait(0.1)
        end
    end)
end)

BuildSec:NewButton("Stop Building", "Kill all loops", function()
    _G.Building = false
end)

-- [[ COMBAT SECTION ]]
local CombatSec = Combat:NewSection("Combat")
CombatSec:NewToggle("Kill Aura", "Range 50", function(state)
    if not IsAuth() then return end
    _G.KillAura = state
    while _G.KillAura do
        pcall(function()
            for _, v in pairs(workspace.GameObjects.Enemies:GetChildren()) do
                if (lp.Character.HumanoidRootPart.Position - v.HumanoidRootPart.Position).Magnitude < 50 then
                    v.Humanoid.Health = 0
                end
            end
        end)
        task.wait(0.2)
    end
end)

-- [[ PLAYER SECTION ]]
local PlayerSec = PlayerTab:NewSection("Movement")
PlayerSec:NewSlider("WalkSpeed", "Set Speed", 300, 16, function(s)
    if not IsAuth() then return end
    pcall(function() lp.Character.Humanoid.WalkSpeed = s end)
end)

print("Meowl Scripter v4.0 Loaded.")

